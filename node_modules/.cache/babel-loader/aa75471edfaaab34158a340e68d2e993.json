{"ast":null,"code":"import _objectSpread from \"/Users/red/Desktop/lambda/buildweek/buildweek-a-to-z-experience/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/red/Desktop/lambda/buildweek/buildweek-a-to-z-experience/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/red/Desktop/lambda/buildweek/buildweek-a-to-z-experience/src/LoginForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Message } from 'semantic-ui-react'; // import { Link } from 'react-router-dom';\n\nimport axios from 'axios';\nimport { get } from 'https';\n\nfunction axiosWithAuth() {\n  const token = window.localStorage.getItem('token');\n  return axios.create({\n    headers: {\n      Authorization: token\n    }\n  });\n}\n\nconst LoginForm = () => {\n  const _useState = useState({\n    username: '',\n    password: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const handleChange = event => {\n    setUser(_objectSpread({}, user, {\n      [event.target.name]: event.target.value\n    }));\n    console.log(\"target name: \", event.target.name);\n  };\n\n  const handleLogin = event => {\n    event.preventDefault();\n    axios.post('link', user) // to save token to local storage\n    .then(res => {\n      console.log(res);\n      const token = res.data.token;\n      localStorage.setItem('token', token);\n    });\n  };\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        data = _useState4[0],\n        setData = _useState4[1];\n\n  useEffect(() => {\n    // axios.get('link with users', {\n    //     headers: {\n    //         Authorizations: window.localStorage.getItem('token')\n    //     }\n    axiosWithAuth().get('link') // })\n    .then(res => {\n      setData(res.data);\n    }).catch(error => {\n      console.log('unable to get data', error);\n    });\n  }, []);\n  return React.createElement(Form, {\n    id: \"login-form\",\n    onSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Form.Input, {\n    id: \"form-input-user-email\",\n    fluid: true,\n    icon: \"user\",\n    iconPosition: \"left\",\n    placeholder: \"E-mail address\",\n    value: user.username,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Form.Input, {\n    id: \"form-input-user-password\",\n    fluid: true,\n    icon: \"lock\",\n    iconPosition: \"left\",\n    placeholder: \"Password\",\n    value: user.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Form.Checkbox, {\n    label: \"Remember me\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Forgot password?\"), \" \"), React.createElement(Button, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(Message, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" Don't have an account? \", React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Sign Up\"), \" \"));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/red/Desktop/lambda/buildweek/buildweek-a-to-z-experience/src/LoginForm.js"],"names":["React","useState","useEffect","Form","Button","Message","axios","get","axiosWithAuth","token","window","localStorage","getItem","create","headers","Authorization","LoginForm","username","password","user","setUser","handleChange","event","target","name","value","console","log","handleLogin","preventDefault","post","then","res","data","setItem","setData","catch","error"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Form, Button, Message} from 'semantic-ui-react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { get } from 'https';\n\nfunction axiosWithAuth() {\n    const token = window.localStorage.getItem('token');\n    return axios.create({\n        headers: {\n            Authorization: token\n        }\n    })\n}\n\nconst LoginForm = () => {\n    \n    const [user, setUser] = useState({username: '', password: ''});\n\n    const handleChange = event => {\n        setUser({...user, [event.target.name]: event.target.value});\n        console.log(\"target name: \", event.target.name);\n    }\n\n    const handleLogin = event => {\n        event.preventDefault();\n        axios.post('link', user)\n        // to save token to local storage\n        \n        .then(res => \n            {console.log(res);\n        const token = res.data.token;\n        localStorage.setItem('token', token)}\n        )\n    };\n\n    const [data, setData] = useState([]);\n    useEffect(() => {\n        // axios.get('link with users', {\n        //     headers: {\n        //         Authorizations: window.localStorage.getItem('token')\n        //     }\n        axiosWithAuth().get('link')\n        // })\n        .then(res => {\n            setData(res.data);\n        })\n        .catch(\n            error => {\n                console.log('unable to get data', error);\n            }\n        )\n\n    }, [])\n    return(\n   \n        <Form id='login-form' onSubmit={handleLogin}>\n            <Form.Input id='form-input-user-email' fluid icon='user' iconPosition='left' placeholder='E-mail address' value={user.username} onChange={handleChange}/>\n\n            <Form.Input id='form-input-user-password'fluid icon='lock' iconPosition='left' placeholder='Password' value={user.password} onChange={handleChange}/>\n            <Form.Checkbox label='Remember me' />\n            <div><a href='#'>Forgot password?</a> </div>\n            \n            {/* <Link to=\"/login/reset\">Forgot password?</Link> */}\n\n            <Button type='submit'>Submit</Button>\n\n            <Message> Don't have an account? <a href='#'>Sign Up</a> </Message>\n    \n \n      </Form>\n    \n\n\n\n\n        \n\n\n\n    )\n\n};\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}